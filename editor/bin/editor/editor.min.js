"use strict";var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},__awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function s(e){try{c(r.next(e))}catch(t){a(t)}}function i(e){try{c(r["throw"](e))}catch(t){a(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,i)}c((r=r.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(s=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(a,n[1])).done)return s;switch(a=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(r){n=[6,r],a=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,s,i,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},paper;!function(e){var t;!function(t){var n;!function(e){e.SceneSelected="SceneSelected",e.SceneUnselected="SceneUnselected",e.GameObjectSelected="GameObjectSelected",e.GameObjectUnselected="GameObjectUnselected"}(n=t.GUIComponentEvent||(t.GUIComponentEvent={}));var r=function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.inspector=new dat.GUI({closeOnTop:!0,width:330}),e.hierarchy=new dat.GUI({closeOnTop:!0,width:330}),e.selectedGameObjects=[],e.selectedScene=null,e.selectedGameObject=null,e}return __extends(r,n),r.prototype.initialize=function(){n.prototype.initialize.call(this);var r={debug:!1};this.hierarchy.add(r,"debug").onChange(function(n){var r=e.Application.systemManager.getOrRegisterSystem(t.GUISystem);n?(e.Application.playerMode=1,r.enabled=!0):(e.Application.playerMode=0,r.enabled=!1)})},r.prototype.select=function(t,n){if(t)if(t instanceof e.Scene){if(this.selectedScene===t)return}else if(this.selectedGameObject===t||this.selectedGameObjects.indexOf(t)>=0)return;if((!t||t instanceof e.Scene||this.selectedScene)&&(n=!0),n)if(this.selectedScene)e.EventPool.dispatchEvent("SceneUnselected",this,this.selectedScene),this.selectedScene=null;else if(this.selectedGameObjects.length>0){var r=this.selectedGameObjects.concat();this.selectedGameObjects.length=0,this.selectedGameObject=null;for(var o=0,a=r;o<a.length;o++){var s=a[o];e.EventPool.dispatchEvent("GameObjectUnselected",this,s)}}t&&(t instanceof e.Scene?(this.selectedScene=t,e.EventPool.dispatchEvent("SceneSelected",this,t)):(this.selectedGameObjects.push(t),this.selectedGameObject=t,e.EventPool.dispatchEvent("GameObjectSelected",this,t))),(global||window).psgo=t},r}(e.SingletonComponent);t.GUIComponent=r,__reflect(r.prototype,"paper.debug.GUIComponent"),e.GameObject.globalGameObject.getOrAddComponent(t.GUIComponent)}(t=e.debug||(e.debug={}))}(paper||(paper={}));var paper;!function(e){var t;!function(t){var n=function(n){function r(){var r=null!==n&&n.apply(this,arguments)||this;return r._interests=[[{componentClass:egret3d.Transform}]],r._disposeCollecter=e.GameObject.globalGameObject.getOrAddComponent(e.DisposeCollecter),r._guiComponent=e.GameObject.globalGameObject.getOrAddComponent(t.GUIComponent),r._hierarchyFolders={},r._inspectorFolders={},r._selectGameObject=null,r._selectFolder=null,r._sceneSelectedHandler=function(e,t){r._selectSceneOrGameObject(t)},r._sceneUnselectedHandler=function(e,t){r._selectSceneOrGameObject(null)},r._gameObjectSelectedHandler=function(e,t){r._selectSceneOrGameObject(t)},r._gameObjectUnselectedHandler=function(e,t){r._selectSceneOrGameObject(null)},r._createGameObject=function(){r._guiComponent.selectedScene?r._selectGameObject=egret3d.DefaultMeshes.createObject(egret3d.DefaultMeshes.CUBE,"NoName","",r._guiComponent.selectedScene):(r._selectGameObject=egret3d.DefaultMeshes.createObject(egret3d.DefaultMeshes.CUBE,"NoName","",r._guiComponent.selectedGameObject.scene),r._selectGameObject.transform.parent=r._guiComponent.selectedGameObject.transform)},r._destroySceneOrGameObject=function(){var e=r._guiComponent.inspector.instance;e&&(r._guiComponent.select(null),e.destroy())},r._nodeClickHandler=function(e){r._guiComponent.select(e.instance,!0)},r}return __extends(r,n),r.prototype._openFolder=function(e){e.open(),e.parent&&e.parent!==this._guiComponent.hierarchy&&this._openFolder(e.parent)},r.prototype._selectSceneOrGameObject=function(t){if(this._selectFolder&&(this._selectFolder.selected=!1,this._selectFolder=null),this._guiComponent.inspector.instance=t,t)if(t.uuid in this._hierarchyFolders&&(this._selectFolder=this._hierarchyFolders[t.uuid],this._selectFolder.selected=!0,this._openFolder(this._selectFolder.parent)),t instanceof e.Scene)this._guiComponent.inspector.add(this,"_createGameObject","createObject"),this._guiComponent.inspector.add(this,"_destroySceneOrGameObject","destroy"),this._addToInspector(this._guiComponent.inspector);else{this._guiComponent.inspector.add(this,"_createGameObject","createChildObject"),this._guiComponent.inspector.add(this,"_destroySceneOrGameObject","destroy"),this._addToInspector(this._guiComponent.inspector);for(var n=0,r=t.components;n<r.length;n++){var o=r[n],a=this._guiComponent.inspector.addFolder(o.uuid,egret.getQualifiedClassName(o));a.instance=o,this._inspectorFolders[o.uuid]=a,this._addToInspector(a)}}else{for(var s in this._inspectorFolders)delete this._inspectorFolders[s];if(this._guiComponent.inspector.__controllers)for(var i=0,c=this._guiComponent.inspector.__controllers.concat();i<c.length;i++){var l=c[i];this._guiComponent.inspector.remove(l)}if(this._guiComponent.inspector.__folders)for(var s in this._guiComponent.inspector.__folders)this._guiComponent.inspector.removeFolder(this._guiComponent.inspector.__folders[s])}},r.prototype._addToHierarchy=function(e){if(!(e.uuid in this._hierarchyFolders||"Editor Only"===e.tag||2===e.hideFlags||3===e.hideFlags)){var t=this._hierarchyFolders[e.transform.parent?e.transform.parent.gameObject.uuid:e.scene.uuid];if(!t){if(e.transform.parent)throw new Error;t=this._guiComponent.hierarchy.addFolder(e.scene.uuid,e.scene.name+" <Scene>"),t.instance=e.scene,t.onClick=this._nodeClickHandler,this._hierarchyFolders[e.scene.uuid]=t}var n=t.addFolder(e.uuid,e.name);n.instance=e,n.onClick=this._nodeClickHandler,this._hierarchyFolders[e.uuid]=n}},r.prototype._addToInspector=function(t){for(var n,r,o,a=e.editor.getEditInfo(t.instance),s=function(e){switch(e.editType){case 0:n=i._guiComponent.inspector.add(t.instance,e.name).min(0).step(1).listen(),e.option&&(void 0!==e.option.minimum&&n.min(e.option.minimum),void 0!==e.option.maximum&&n.max(e.option.maximum),void 0!==e.option.step&&n.step(e.option.step));break;case 1:n=i._guiComponent.inspector.add(t.instance,e.name).step(1).listen(),e.option&&(void 0!==e.option.minimum&&n.min(e.option.minimum),void 0!==e.option.maximum&&n.max(e.option.maximum),void 0!==e.option.step&&n.step(e.option.step));break;case 2:n=i._guiComponent.inspector.add(t.instance,e.name).step(.1).listen(),e.option&&(void 0!==e.option.minimum&&n.min(e.option.minimum),void 0!==e.option.maximum&&n.max(e.option.maximum),void 0!==e.option.step&&n.step(e.option.step));break;case 4:case 3:i._guiComponent.inspector.add(t.instance,e.name).listen();break;case 10:i._guiComponent.inspector.add(t.instance,e.name,e.option.listItems).listen();break;case 5:var a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t.instance),e.name);if(a)if(a.get&&a.set){var s=function(){t.instance[e.name]=t.instance[e.name]};n=i._guiComponent.inspector.add(t.instance[e.name],"x",e.name+": x").step(.1).listen(),r=i._guiComponent.inspector.add(t.instance[e.name],"y",e.name+": y").step(.1).listen(),n.onChange(s),r.onChange(s)}else n=i._guiComponent.inspector.add(t.instance[e.name],"x",e.name+": x").step(.1).listen(),r=i._guiComponent.inspector.add(t.instance[e.name],"y",e.name+": y").step(.1).listen();break;case 6:var a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t.instance),e.name);if(a){if(a.get&&a.set){var s=function(){t.instance[e.name]=t.instance[e.name]};n=i._guiComponent.inspector.add(t.instance[e.name],"x",e.name+": x").step(.1).listen(),r=i._guiComponent.inspector.add(t.instance[e.name],"y",e.name+": y").step(.1).listen(),o=i._guiComponent.inspector.add(t.instance[e.name],"z",e.name+": z").step(.1).listen(),n.onChange(s),r.onChange(s),o.onChange(s)}else n=i._guiComponent.inspector.add(t.instance[e.name],"x",e.name+": x").step(.1).listen(),r=i._guiComponent.inspector.add(t.instance[e.name],"y",e.name+": y").step(.1).listen(),o=i._guiComponent.inspector.add(t.instance[e.name],"z",e.name+": z").step(.1).listen();e.option&&(void 0!==e.option.minimum&&(n.min(e.option.minimum),r.min(e.option.minimum),o.min(e.option.minimum)),void 0!==e.option.maximum&&(n.max(e.option.maximum),r.max(e.option.maximum),o.max(e.option.maximum)),void 0!==e.option.step&&(n.step(e.option.step),r.step(e.option.step),o.step(e.option.step)))}break;case 7:case 8:break;case 9:break;case 11:break;case 14:}},i=this,c=0,l=a;c<l.length;c++){var d=l[c];s(d)}},r.prototype.onAwake=function(){},r.prototype.onEnable=function(){e.EventPool.addEventListener("SceneSelected",t.GUIComponent,this._sceneSelectedHandler),e.EventPool.addEventListener("SceneUnselected",t.GUIComponent,this._sceneUnselectedHandler),e.EventPool.addEventListener("GameObjectSelected",t.GUIComponent,this._gameObjectSelectedHandler),e.EventPool.addEventListener("GameObjectUnselected",t.GUIComponent,this._gameObjectUnselectedHandler),this.onAddGameObject(e.GameObject.globalGameObject,this._groups[0]);for(var n=0,r=this._groups[0].gameObjects;n<r.length;n++){var o=r[n];this._addToHierarchy(o)}},r.prototype.onAddGameObject=function(e,t){this._addToHierarchy(e)},r.prototype.onUpdate=function(e){if(this._guiComponent.inspector.updateDisplay(),this._guiComponent.inspector.__folders)for(var t in this._guiComponent.inspector.__folders)this._guiComponent.inspector.__folders[t].updateDisplay();for(var n=0,r=this._disposeCollecter.scenes;n<r.length;n++){var o=r[n],a=this._hierarchyFolders[o.uuid];if(delete this._hierarchyFolders[o.uuid],a&&a.parent)try{a.parent.removeFolder(a)}catch(s){}}for(var i=0,c=this._disposeCollecter.gameObjects;i<c.length;i++){var l=c[i],a=this._hierarchyFolders[l.uuid];if(delete this._hierarchyFolders[l.uuid],a&&a.parent)try{a.parent.removeFolder(a)}catch(s){}}for(var d=0,u=this._disposeCollecter.components;d<u.length;d++){var p=u[d],a=this._inspectorFolders[p.uuid];if(delete this._inspectorFolders[p.uuid],a&&a.parent)try{a.parent.removeFolder(a)}catch(s){}}},r.prototype.onDisable=function(){e.EventPool.removeEventListener("SceneSelected",t.GUIComponent,this._sceneSelectedHandler),e.EventPool.removeEventListener("SceneUnselected",t.GUIComponent,this._sceneUnselectedHandler),e.EventPool.removeEventListener("GameObjectSelected",t.GUIComponent,this._gameObjectSelectedHandler),e.EventPool.removeEventListener("GameObjectUnselected",t.GUIComponent,this._gameObjectUnselectedHandler);for(var n in this._hierarchyFolders){var r=this._hierarchyFolders[n];if(delete this._hierarchyFolders[n],r&&r.parent)try{r.parent.removeFolder(r)}catch(o){}}},r}(e.BaseSystem);t.GUISystem=n,__reflect(n.prototype,"paper.debug.GUISystem")}(t=e.debug||(e.debug={}))}(paper||(paper={}));var paper;!function(e){var t;!function(t){var n=(new egret3d.Vector2,new egret3d.Vector2,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lookAtPoint=egret3d.Vector3.create(0,0,0),t.lookAtOffset=egret3d.Vector3.create(),t.distance=30,t.minPanAngle=-(1/0),t.maxPanAngle=1/0,t.minTileAngle=-90,t.maxTileAngle=90,t.moveSpped=.001,t.scaleSpeed=.2,t._enableMove=!0,t._mouseDown=!1,t._fingerTwo=!1,t._panAngle=0,t._panRad=0,t._tiltAngle=0,t._tiltRad=0,t._mouseDownHandler=function(e){e.preventDefault(),t._mouseDown=!0,t._lastMouseX=e.x,t._lastMouseY=e.y},t._mouseUpHandler=function(e){e.preventDefault(),t._mouseDown=!1},t._mouseMoveHandler=function(e){if(t._mouseDown&&t._enableMove){var n=egret3d.Vector3.create(e.x-t._lastMouseX,e.y-t._lastMouseY,0);if(e.ctrlKey){n.x=-n.x;var r=t.lookAtTarget?t.lookAtTarget.getPosition():t.lookAtPoint,o=t.gameObject.transform.getPosition().getDistance(r),a=egret3d.Matrix3.create();n.multiplyScalar(o*t.moveSpped).applyMatrix3(a.getNormalMatrix(t.gameObject.transform.getLocalMatrix())),a.release(),t.lookAtOffset.add(n)}else t.panAngle+=n.x,t.tiltAngle+=n.y;t._lastMouseX=e.x,t._lastMouseY=e.y,n.release(),e.preventDefault()}},t._mouseWheelHandler=function(e){t.distance=Math.max(t.distance-(e.wheelDelta>0?2:-2),1),e.preventDefault()},t}return __extends(t,e),Object.defineProperty(t.prototype,"panAngle",{get:function(){return this._panAngle},set:function(e){this._panAngle=Math.max(this.minPanAngle,Math.min(this.maxPanAngle,e)),this._panRad=this._panAngle*Math.PI/180},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tiltAngle",{get:function(){return this._tiltAngle},set:function(e){this._tiltAngle=Math.max(this.minTileAngle,Math.min(this.maxTileAngle,e)),this._tiltRad=this._tiltAngle*Math.PI/180},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enableMove",{get:function(){return this._enableMove},set:function(e){this._enableMove!==e&&(this._enableMove=e)},enumerable:!0,configurable:!0}),t.prototype.onStart=function(){this.bindTouch=egret3d.InputManager.touch,this.bindMouse=egret3d.InputManager.mouse,this.bindMouse.disableContextMenu()},t.prototype.onEnable=function(){var e=egret3d.WebGLCapabilities.canvas;e&&(e.addEventListener("mousedown",this._mouseDownHandler),e.addEventListener("mouseup",this._mouseUpHandler),e.addEventListener("mouseout",this._mouseUpHandler),e.addEventListener("dblclick",this._mouseUpHandler),e.addEventListener("mousemove",this._mouseMoveHandler),e.addEventListener("wheel",this._mouseWheelHandler))},t.prototype.onDisable=function(){var e=egret3d.WebGLCapabilities.canvas;e&&(e.removeEventListener("mousedown",this._mouseDownHandler),e.removeEventListener("mouseup",this._mouseUpHandler),e.removeEventListener("mouseout",this._mouseUpHandler),e.removeEventListener("dblclick",this._mouseUpHandler),e.removeEventListener("mousemove",this._mouseMoveHandler),e.removeEventListener("wheel",this._mouseWheelHandler))},t.prototype.onUpdate=function(e){this._enableMove&&this.move()},t.prototype.move=function(){var e=this.distance*Math.sin(this._panRad)*Math.cos(this._tiltRad),t=this.distance*(0==this._tiltRad?0:Math.sin(this._tiltRad)),n=this.distance*Math.cos(this._panRad)*Math.cos(this._tiltRad),r=egret3d.Vector3.create();this.lookAtTarget?r.copy(this.lookAtTarget.getPosition()):r.copy(this.lookAtPoint),r.add(this.lookAtOffset),this.gameObject.transform.setPosition(r.x+e,r.y+t,r.z+n),this.gameObject.transform.lookAt(r),r.release()},t}(e.Behaviour));t.OrbitControls=n,__reflect(n.prototype,"paper.debug.OrbitControls")}(t=e.debug||(e.debug={}))}(paper||(paper={}));var paper;!function(e){var t;!function(t){var n=function(){function t(){}return t._createGameObject=function(t,n,r,o,a){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o="Editor Only"),void 0===a&&(a=e.Scene.editorScene);var s=e.GameObject.create(t,o,a);return s.hideFlags=3,n&&(s.addComponent(egret3d.MeshFilter).mesh=n),r&&(s.addComponent(egret3d.MeshRenderer).material=r),s},t.createGrid=function(e,t,n,r,o){void 0===t&&(t=50),void 0===n&&(n=50),void 0===r&&(r=egret3d.Color.create(.26,.26,.26)),void 0===o&&(o=egret3d.Color.create(.53,.53,.53));for(var a=n/2,s=t/n,i=t/2,c=[],l=[],d=0,u=-i;n>=d;d++,u+=s){c.push(-i,0,u),c.push(i,0,u),c.push(u,0,-i),c.push(u,0,i);var p=d===a?r:o;l.push(p.r,p.g,p.b,p.a),l.push(p.r,p.g,p.b,p.a),l.push(p.r,p.g,p.b,p.a),l.push(p.r,p.g,p.b,p.a)}for(var m=0;m<l.length;m+=80)for(var h=0;16>h;h++)l[m+h]=.26;var f=new egret3d.Mesh(c.length,0,["POSITION","COLOR_0"]);f.setAttributes("POSITION",c),f.setAttributes("COLOR_0",l),f.glTFMesh.primitives[0].mode=1;var _=this._createGameObject(e,f,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone());return _},t.createTouchPlane=function(e,t,n){void 0===t&&(t=5e5),void 0===n&&(n=5e5);var r=this._createGameObject(e,egret3d.DefaultMeshes.createPlane(t,n),egret3d.DefaultMaterials.LINEDASHED_COLOR.clone());return r},t.createAxises=function(e){var t=this._createGameObject(e),n=this._createGameObject("translate");n.transform.setParent(t.transform);var r=this._createGameObject("axisX",egret3d.DefaultMeshes.LINE_X,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),o=this._createGameObject("axisY",egret3d.DefaultMeshes.LINE_X,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),a=this._createGameObject("axisZ",egret3d.DefaultMeshes.LINE_X,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),s=this._createGameObject("arrowX",egret3d.DefaultMeshes.PYRAMID,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),i=this._createGameObject("arrowY",egret3d.DefaultMeshes.PYRAMID,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),c=this._createGameObject("arrowZ",egret3d.DefaultMeshes.PYRAMID,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),l=this._createGameObject("pickX",egret3d.DefaultMeshes.CUBE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),d=this._createGameObject("pickY",egret3d.DefaultMeshes.CUBE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),u=this._createGameObject("pickZ",egret3d.DefaultMeshes.CUBE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone());r.transform.setParent(n.transform),o.transform.setParent(n.transform).setLocalEuler(0,0,.5*Math.PI),a.transform.setParent(n.transform).setLocalEuler(0,.5*-Math.PI,0),s.transform.setParent(r.transform).setLocalEuler(0,0,.5*-Math.PI).setLocalPosition(egret3d.Vector3.RIGHT).setLocalScale(.05,.1,.05),i.transform.setParent(o.transform).setLocalEuler(0,0,.5*-Math.PI).setLocalPosition(egret3d.Vector3.RIGHT).setLocalScale(.05,.1,.05),c.transform.setParent(a.transform).setLocalEuler(0,0,.5*-Math.PI).setLocalPosition(egret3d.Vector3.RIGHT).setLocalScale(.05,.1,.05),l.transform.setParent(n.transform).setLocalPosition(egret3d.Vector3.RIGHT).setLocalScale(1,.3,.3),d.transform.setParent(n.transform).setLocalPosition(egret3d.Vector3.UP).setLocalScale(.3,1,.3),u.transform.setParent(n.transform).setLocalPosition(egret3d.Vector3.FORWARD).setLocalScale(.3,.3,1),l.activeSelf=d.activeSelf=u.activeSelf=!1,r.renderer.material.setColor("diffuse",egret3d.Color.RED).setDepth(!1,!1).setRenderQueue(4e3),o.renderer.material.setColor("diffuse",egret3d.Color.GREEN).setDepth(!1,!1).setRenderQueue(4e3),a.renderer.material.setColor("diffuse",egret3d.Color.BLUE).setDepth(!1,!1).setRenderQueue(4e3),s.renderer.material.setColor("diffuse",egret3d.Color.RED).setDepth(!1,!1).setRenderQueue(4e3),i.renderer.material.setColor("diffuse",egret3d.Color.GREEN).setDepth(!1,!1).setRenderQueue(4e3),c.renderer.material.setColor("diffuse",egret3d.Color.BLUE).setDepth(!1,!1).setRenderQueue(4e3),l.renderer.material.setColor("diffuse",egret3d.Color.RED).setDepth(!1,!1).setRenderQueue(4e3),d.renderer.material.setColor("diffuse",egret3d.Color.GREEN).setDepth(!1,!1).setRenderQueue(4e3),u.renderer.material.setColor("diffuse",egret3d.Color.BLUE).setDepth(!1,!1).setRenderQueue(4e3);var p=this._createGameObject("rotate");p.transform.setParent(t.transform);var m=this._createGameObject("scale");m.transform.setParent(t.transform);var r=this._createGameObject("axisX",egret3d.DefaultMeshes.LINE_X,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),o=this._createGameObject("axisY",egret3d.DefaultMeshes.LINE_X,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),a=this._createGameObject("axisZ",egret3d.DefaultMeshes.LINE_X,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),s=this._createGameObject("arrowX",egret3d.DefaultMeshes.CUBE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),i=this._createGameObject("arrowY",egret3d.DefaultMeshes.CUBE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),c=this._createGameObject("arrowZ",egret3d.DefaultMeshes.CUBE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),l=this._createGameObject("pickX",egret3d.DefaultMeshes.CUBE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),d=this._createGameObject("pickY",egret3d.DefaultMeshes.CUBE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),u=this._createGameObject("pickZ",egret3d.DefaultMeshes.CUBE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone());return r.transform.setParent(m.transform),o.transform.setParent(m.transform).setLocalEuler(0,0,.5*Math.PI),a.transform.setParent(m.transform).setLocalEuler(0,.5*-Math.PI,0),s.transform.setParent(r.transform).setLocalEuler(0,0,.5*-Math.PI).setLocalPosition(egret3d.Vector3.RIGHT).setLocalScale(.2,.2,.2),i.transform.setParent(o.transform).setLocalEuler(0,0,.5*-Math.PI).setLocalPosition(egret3d.Vector3.RIGHT).setLocalScale(.2,.2,.2),c.transform.setParent(a.transform).setLocalEuler(0,0,.5*-Math.PI).setLocalPosition(egret3d.Vector3.RIGHT).setLocalScale(.2,.2,.2),l.transform.setParent(m.transform).setLocalPosition(egret3d.Vector3.RIGHT).setLocalScale(1,.3,.3),d.transform.setParent(m.transform).setLocalPosition(egret3d.Vector3.UP).setLocalScale(.3,1,.3),u.transform.setParent(m.transform).setLocalPosition(egret3d.Vector3.FORWARD).setLocalScale(.3,.3,1),l.activeSelf=d.activeSelf=u.activeSelf=!1,r.renderer.material.setColor("diffuse",egret3d.Color.RED).setDepth(!1,!1).setRenderQueue(4e3),o.renderer.material.setColor("diffuse",egret3d.Color.GREEN).setDepth(!1,!1).setRenderQueue(4e3),a.renderer.material.setColor("diffuse",egret3d.Color.BLUE).setDepth(!1,!1).setRenderQueue(4e3),s.renderer.material.setColor("diffuse",egret3d.Color.RED).setDepth(!1,!1).setRenderQueue(4e3),i.renderer.material.setColor("diffuse",egret3d.Color.GREEN).setDepth(!1,!1).setRenderQueue(4e3),c.renderer.material.setColor("diffuse",egret3d.Color.BLUE).setDepth(!1,!1).setRenderQueue(4e3),l.renderer.material.setColor("diffuse",egret3d.Color.RED).setDepth(!1,!1).setRenderQueue(4e3),d.renderer.material.setColor("diffuse",egret3d.Color.GREEN).setDepth(!1,!1).setRenderQueue(4e3),u.renderer.material.setColor("diffuse",egret3d.Color.BLUE).setDepth(!1,!1).setRenderQueue(4e3),t},t.createBox=function(e,t){var n=this._createGameObject(e,egret3d.DefaultMeshes.CUBE_LINE,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone());return n.getComponent(egret3d.MeshRenderer).material.setColor("diffuse",egret3d.Color.create(0,1,1).release()),n},t.createCameraWireframed=function(e,t,n,r,o,a){void 0===t&&(t=egret3d.Color.create(1,.7,0)),void 0===n&&(n=egret3d.Color.RED),void 0===r&&(r=egret3d.Color.create(0,.7,1)),void 0===o&&(o=egret3d.Color.WHITE),void 0===a&&(a=egret3d.Color.create(.2,.2,.2));for(var s=[],i=[],c=50,l=0;c>l;l++)s.push(0,0,0),24>l?i.push(t.r,t.g,t.b,t.a):32>l?i.push(n.r,n.g,n.b,n.a):38>l?i.push(r.r,r.g,r.b,r.a):40>l?i.push(o.r,o.g,o.b,o.a):i.push(a.r,a.g,a.b,a.a);var d=new egret3d.Mesh(c,0,["POSITION","COLOR_0"]);d.setAttributes("POSITION",s),d.setAttributes("COLOR_0",i),d.glTFMesh.primitives[0].mode=1;var u=this._createGameObject(e,d,egret3d.DefaultMaterials.LINEDASHED_COLOR.clone()),p=this._createGameObject("pick",egret3d.DefaultMeshes.CUBE);return p.transform.parent=u.transform,p.activeSelf=!1,u.getComponent(egret3d.MeshRenderer).material.setColor("diffuse",egret3d.Color.BLUE).setDepth(!1,!1).setRenderQueue(4e3),u},t}();t.EditorMeshHelper=n,__reflect(n.prototype,"paper.debug.EditorMeshHelper")}(t=e.debug||(e.debug={}))}(paper||(paper={}));var helper;!function(e){function t(e){for(var t=e.substr(e.lastIndexOf("/")+1),n=t.indexOf(".",0),r="";n>=0;){if(r=t.substr(n),".vs.glsl"==r)return"GLVertexShader";if(".assetbundle.json"==r)return"Bundle";if(".fs.glsl"==r)return"GLFragmentShader";if(".png"==r||".jpg"==r)return"Texture";if(".pvr.bin"==r||".pvr"==r)return"PVR";if(".prefab.json"==r)return"Prefab";if(".scene.json"==r)return"Scene";if(".atlas.json"==r)return"Atlas";if(".font.json"==r)return"Font";if(".json"==r||".txt"==r||".effect.json"==r)return"TextAsset";if(".packs.bin"==r)return"PackBin";if(".packs.txt"==r)return"PackTxt";if(".path.json"==r)return"pathAsset";if(".mp3"==r||".ogg"==r)return"Sound";if(".shader.json"==r)return"Shader";if(".image.json"==r)return"TextureDesc";if(".mat.json"==r)return"Material";if(".mesh.bin"==r)return"Mesh";if(".ani.bin"==r)return"Animation";n=t.indexOf(".",n+1)}return"Unknown"}function n(e,n){return void 0===n&&(n="resource/"),__awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return r?[3,2]:[4,RES.loadConfig("resource/default.res.json",n)];case 1:o.sent(),r=!0,o.label=2;case 2:return[2,new Promise(function(r){RES.getResByUrl(n+e,function(e){paper.Asset.register(e),r()},RES,t(e))})]}})})}var r=!1;e.getResAsync=n}(helper||(helper={}));